<!--
This is the component view that represents the 'Browse' tab.
Feel free to customize layouts and components to change how the tab view looks.
-->
<!-- class="page-content" -->
<GridLayout loaded="onLoaded">
    <ActivityIndicator width="100" height="100" id="loading" busy="true" />
    <ListView items="{{ latestTopics }}" id="latestTopicsList">
        <ListView.itemTemplate>
            <GridLayout columns="auto,*,auto" rows="*,auto,auto">
                <Label class="topicIndex" text="{{ topicIndex }}" col="2"/>
                <Label class="topicTitle" text="{{ title }}" col="1" row="0"/>
                <GridLayout row="1" col="1">
                    <Repeater items="{{ tags }}">
                        <Repeater.itemsLayout>
                            <WrapLayout horizontalAlignment="center" />
                        </Repeater.itemsLayout>
                        <Repeater.itemTemplate>
                            <Label class="tagLabel" style="margin:3px;">
                                <FormattedString>
                                    <Span class="tagLabelDarken fa" text="&#xf02c; " style="font-size: 12px;"></Span>
                                    <Span class="tagLabel" text="{{ $value }}"></Span>
                                </FormattedString>
                            </Label>
                        </Repeater.itemTemplate>
                    </Repeater>
                </GridLayout>
                <GridLayout row="2" columns="*,*,*" style="text-align: center;" verticalAlign="middle" col="1">
                    <Label class="topicDetails" textWrap="true">
                        <FormattedString>
                            <Span class="fa" text="&#xf112; " style="font-size: 20px;"></Span>
                            <Span text="{{ ' ' + reply_count }}" fontWeight="Bold"></Span>
                        </FormattedString>
                    </Label>
                    <Label class="topicDetails" textWrap="true" col="1">
                        <FormattedString>
                            <Span class="fa" text="&#xf06e; " style="font-size: 20px;"></Span>
                            <Span text="{{ ' ' + views }}" fontWeight="Bold"></Span>
                        </FormattedString>
                    </Label>
                    <Label class="topicDetails" textWrap="true" col="2">
                        <FormattedString>
                            <Span class="fa" text="&#xf073; " style="font-size: 20px;"></Span>
                            <Span text="{{ created_at }}" fontWeight="Bold"></Span>
                        </FormattedString>
                    </Label>
                </GridLayout>
                <Image class="topicImage" src="{{ image_url }}" stretch="aspectFit" row="0" rowSpan="3" col="0" visibility="{{ image_url ? 'visible' : 'collapsed' }}"/>
            </GridLayout>
        </ListView.itemTemplate>
    </ListView>
</GridLayout>