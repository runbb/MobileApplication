"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var platform_1 = require("platform");
var frame_1 = require("ui/frame");
var category_view_component_1 = require("./category-view-component");
var isLoaded = {};
function onLoaded(args) {
    var component = args.object;
    if (!isLoaded[component.categoryId]) {
        component.bindingContext = new category_view_component_1.CategoryViewComponent(component, component.categoryId);
        isLoaded[component.categoryId] = true;
    }
}
exports.onLoaded = onLoaded;
function navigateToTopic(args) {
    var topic = args.object.bindingContext;
    var topicId = topic.id;
    var topicTitle = topic.title;
    frame_1.topmost().navigate({
        moduleName: "pages/topic/topicView",
        context: {
            topicId: topicId,
            topicTitle: topicTitle
        }
    });
}
exports.navigateToTopic = navigateToTopic;
function scrollViewSetup(args) {
    args.object.scrollToVerticalOffset(args.object.scrollableHeight, false);
    exports.disableFocus(args);
}
exports.scrollViewSetup = scrollViewSetup;
exports.disableFocus = function (args) { return platform_1.isAndroid ? args.object.android.setFocusable(false) : false; };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxxQ0FBcUM7QUFDckMsa0NBQW1DO0FBRW5DLHFFQUFrRTtBQUVsRSxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFFbEIsa0JBQXlCLElBQWU7SUFDcEMsSUFBTSxTQUFTLEdBQWdCLElBQUksQ0FBQyxNQUFNLENBQUM7SUFFM0MsRUFBRSxDQUFBLENBQUMsQ0FBQyxRQUFRLENBQU8sU0FBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUEsQ0FBQztRQUN2QyxTQUFTLENBQUMsY0FBYyxHQUFHLElBQUksK0NBQXFCLENBQUMsU0FBUyxFQUFPLFNBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM1RixRQUFRLENBQU8sU0FBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNqRCxDQUFDO0FBQ0wsQ0FBQztBQVBELDRCQU9DO0FBRUQseUJBQWdDLElBQVM7SUFDckMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFDdkMsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUN2QixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBRTdCLGVBQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQztRQUNmLFVBQVUsRUFBRSx1QkFBdUI7UUFDbkMsT0FBTyxFQUFFO1lBQ0wsT0FBTyxFQUFFLE9BQU87WUFDaEIsVUFBVSxFQUFFLFVBQVU7U0FDekI7S0FDSixDQUFDLENBQUM7QUFDUCxDQUFDO0FBWkQsMENBWUM7QUFFRCx5QkFBZ0MsSUFBUztJQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEUsb0JBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBSEQsMENBR0M7QUFFWSxRQUFBLFlBQVksR0FBRyxVQUFDLElBQUksSUFBSyxPQUFBLG9CQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUEzRCxDQUEyRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnREYXRhIH0gZnJvbSBcImRhdGEvb2JzZXJ2YWJsZVwiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ3VpL3BhZ2UnO1xuaW1wb3J0IHsgU3RhY2tMYXlvdXQgfSBmcm9tIFwidWkvbGF5b3V0cy9zdGFjay1sYXlvdXRcIjtcbmltcG9ydCB7IGlzQW5kcm9pZCB9IGZyb20gXCJwbGF0Zm9ybVwiO1xuaW1wb3J0IHsgdG9wbW9zdCB9IGZyb20gXCJ1aS9mcmFtZVwiO1xuXG5pbXBvcnQgeyBDYXRlZ29yeVZpZXdDb21wb25lbnQgfSBmcm9tIFwiLi9jYXRlZ29yeS12aWV3LWNvbXBvbmVudFwiO1xuXG52YXIgaXNMb2FkZWQgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3M6IEV2ZW50RGF0YSkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IDxTdGFja0xheW91dD5hcmdzLm9iamVjdDtcblxuICAgIGlmKCFpc0xvYWRlZFsoPGFueT5jb21wb25lbnQpLmNhdGVnb3J5SWRdKXtcbiAgICAgICAgY29tcG9uZW50LmJpbmRpbmdDb250ZXh0ID0gbmV3IENhdGVnb3J5Vmlld0NvbXBvbmVudChjb21wb25lbnQsKDxhbnk+Y29tcG9uZW50KS5jYXRlZ29yeUlkKTtcbiAgICAgICAgaXNMb2FkZWRbKDxhbnk+Y29tcG9uZW50KS5jYXRlZ29yeUlkXSA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb1RvcGljKGFyZ3M6IGFueSl7XG4gICAgbGV0IHRvcGljID0gYXJncy5vYmplY3QuYmluZGluZ0NvbnRleHQ7XG4gICAgbGV0IHRvcGljSWQgPSB0b3BpYy5pZDtcbiAgICBsZXQgdG9waWNUaXRsZSA9IHRvcGljLnRpdGxlO1xuXG4gICAgdG9wbW9zdCgpLm5hdmlnYXRlKHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJwYWdlcy90b3BpYy90b3BpY1ZpZXdcIixcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgdG9waWNJZDogdG9waWNJZCxcbiAgICAgICAgICAgIHRvcGljVGl0bGU6IHRvcGljVGl0bGVcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVmlld1NldHVwKGFyZ3M6IGFueSl7XG4gICAgYXJncy5vYmplY3Quc2Nyb2xsVG9WZXJ0aWNhbE9mZnNldChhcmdzLm9iamVjdC5zY3JvbGxhYmxlSGVpZ2h0LCBmYWxzZSk7XG4gICAgZGlzYWJsZUZvY3VzKGFyZ3MpO1xufVxuXG5leHBvcnQgY29uc3QgZGlzYWJsZUZvY3VzID0gKGFyZ3MpID0+IGlzQW5kcm9pZCA/IGFyZ3Mub2JqZWN0LmFuZHJvaWQuc2V0Rm9jdXNhYmxlKGZhbHNlKSA6IGZhbHNlOyJdfQ==